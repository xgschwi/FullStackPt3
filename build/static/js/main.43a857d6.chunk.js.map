{"version":3,"sources":["Filter.js","services/phonebook.js","PersonForm.js","Persons.js","Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","event","target","baseURL","phonebookServices","getAll","axios","get","then","response","data","create","newPerson","post","deletePerson","id","delete","update","put","PersonForm","newName","newNum","persons","setName","setNum","setPersons","setNotification","setFlag","onSubmit","preventDefault","result","find","person","name","undefined","number","concat","window","confirm","map","catch","e","setTimeout","type","Person","set","onClick","p","Persons","filtered","toLowerCase","includes","length","Notification","flag","message","style","color","borderColor","background","fontSize","borderStyle","borderRadius","padding","margin","textAlign","width","App","useState","setNewName","setNewNum","notification","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.43a857d6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter}) => {\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div>Filter shown with: <input value = {filter} onChange = {handleFilterChange}/></div>\r\n        </form>\r\n    )\r\n}\r\nexport default Filter","import axios from 'axios'\r\nconst baseURL='api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseURL, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request\r\n}\r\n\r\nconst update = newPerson => {\r\n    const request = axios.put(`${baseURL}/${newPerson.id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst phonebookServices = {getAll, create, deletePerson, update}\r\nexport default phonebookServices","import React from 'react'\r\nimport phonebookServices from './services/phonebook'\r\n\r\n// Takes in new people to phonebook\r\nconst PersonForm = ({newName, newNum, persons, setName, setNum, setPersons, setNotification, setFlag}) => {\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const result = persons.find(person => person.name === newName)\r\n       \r\n      // If the person did not exist in the phonebook \r\n      if(result === undefined) {\r\n        const newPerson = { name: newName, number: newNum}\r\n    \r\n        phonebookServices.create(newPerson)\r\n        setPersons(persons.concat(newPerson))\r\n        setFlag(true)\r\n        setNotification(`Added ${newName}`)\r\n      }\r\n\r\n      // If the person's number is updated\r\n      else {\r\n        if(window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\r\n          const newPerson = {...result, number: newNum}\r\n\r\n          phonebookServices.update(newPerson)\r\n          .then(data => {\r\n            setPersons(persons.map(person => person.id !== newPerson.id\r\n              ? person\r\n              : {...person, number: newNum})\r\n            )\r\n            setFlag(true)\r\n            setNotification(`Updated ${newName}'s number`)}\r\n            )\r\n\r\n          // Catch error where this person is no longer present in the server\r\n          .catch(e => {\r\n            setFlag(false)\r\n            setNotification(`Information of ${newName}'s has already been removed from the server`)\r\n\r\n            // Exclude the person who was already removed\r\n            setPersons(persons.filter(person => person.id !== newPerson.id))\r\n          })\r\n        }\r\n      }\r\n\r\n      // Reset Notification\r\n      setTimeout(() => {setFlag(false)}, 11000)\r\n      setTimeout(() => {setNotification(null)}, 10000)\r\n\r\n      setName('')\r\n      setNum('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setName(event.target.value)\r\n  }\r\n    \r\n  const handleNumChange = (event) => {\r\n    setNum(event.target.value)\r\n  }\r\n\r\n  return(\r\n    <form onSubmit={addPerson}>\r\n      <div>name: <input value = {newName} onChange = {handleNameChange}/></div>\r\n      <div>number: <input value = {newNum} onChange = {handleNumChange}/></div>\r\n\r\n      <div>\r\n          <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport phonebookServices from './services/phonebook'\r\n\r\n\r\n// Displays single person's information\r\nconst Person = ({persons, person, set}) => {\r\n    return(\r\n        <p>{person.name} {person.number} \r\n    \r\n            <button onClick={(e) => {\r\n                e.preventDefault()\r\n                if(window.confirm(`Are you sure you want to delete ${person.name}?`)) {\r\n                    phonebookServices.deletePerson(person.id)\r\n                    set(persons.filter(p => p.id !== person.id))\r\n                }\r\n            }}>\r\n            Delete</button>\r\n        </p>\r\n    )\r\n}\r\n\r\n// Displays all people with the given filter\r\nconst Persons = ({persons, filter, setPersons}) => {\r\n\r\n    const filtered = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    return(\r\n        <div>\r\n            {\r\n            filter.length === 0 \r\n            ? persons.map(person => <Person key={person.name} persons={persons} person={person} set={setPersons}/>)\r\n            : filtered.map(person => <Person key={person.name} persons={persons} person={person} set={setPersons}/>) \r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({flag, message}) => {\r\n\r\n    if(message === null) return null\r\n\r\n    const successStyle = {\r\n        color: 'green',\r\n        borderColor: 'green',\r\n        background: 'aliceBlue',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        margin: 'auto',\r\n        textAlign: 'center',\r\n        width: 150\r\n    }\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        borderColor: 'red',\r\n        background: 'aliceBlue',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        margin: 'auto',\r\n        textAlign: 'center',\r\n        width: 700\r\n    }\r\n\r\n    if(flag)\r\n        return (<div style={successStyle}>{message}</div>)\r\n    else\r\n        return <div style={errorStyle}>{message}</div>\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\nimport phonebookServices from './services/phonebook'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ filter, setFilter] = useState('')\n  const [ notification, setNotification] = useState(null)\n  const [ flag, setFlag] = useState(false)\n  \n  useEffect(() => {\n    phonebookServices.getAll()\n    .then(response => setPersons(response))\n  },[])\n\n  return (\n    <div>\n      <Notification flag={flag} message={notification}/>\n\n      <h2>Phonebook</h2>\n      \n      <Filter filter={filter} setFilter={setFilter}/>\n\n      <h2>Add a new</h2>\n\n      <PersonForm newName={newName} newNum={newNum} persons={persons}\n      setName={setNewName} setNum={setNewNum} setPersons={setPersons}\n      setNotification={setNotification} setFlag={setFlag}/>\n\n\n      <h2>Numbers</h2>\n      \n      <Persons persons={persons} filter={filter} setPersons={setPersons}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}
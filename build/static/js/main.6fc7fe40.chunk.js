(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(14),o=n.n(c),s=(n(19),n(3)),i=n(0),u=function(e){var t=e.filter,n=e.setFilter;return Object(i.jsx)("form",{children:Object(i.jsxs)("div",{children:["Filter shown with: ",Object(i.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]})})},a=n(4),l=n.n(a),d="api/persons",j={getAll:function(){return l.a.get(d).then((function(e){return e.data}))},create:function(e){return l.a.post(d,e).then((function(e){return e.data}))},deletePerson:function(e){return l.a.delete("".concat(d,"/").concat(e))},update:function(e){return l.a.put("".concat(d,"/").concat(e.id),e).then((function(e){return e.data}))}},b=function(e){var t=e.newName,n=e.newNum,r=e.persons,c=e.setName,o=e.setNum,s=e.setPersons,u=e.setNotification,a=e.setFlag;return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var i={name:t,number:n};j.create(i).then((function(e){s(r.concat(i)),a(!0),u("Added ".concat(t))})).catch((function(e){a(!1),u(e.response.data.error)})),setTimeout((function(){a(!1)}),11e3),setTimeout((function(){u(null)}),1e4),c(""),o("")},children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:t,onChange:function(e){c(e.target.value)}})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{value:n,onChange:function(e){o(e.target.value)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},f=function(e){var t=e.persons,n=e.person,r=e.set;return Object(i.jsxs)("p",{children:[n.name," ",n.number,Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete ".concat(n.name,"?"))&&(j.deletePerson(n.id),r(t.filter((function(e){return e.id!==n.id}))))},children:"Delete"})]})},h=function(e){var t=e.persons,n=e.filter,r=e.setPersons,c=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return Object(i.jsx)("div",{children:0===n.length?t.map((function(e){return Object(i.jsx)(f,{persons:t,person:e,set:r},e.name)})):c.map((function(e){return Object(i.jsx)(f,{persons:t,person:e,set:r},e.name)}))})},O=function(e){var t=e.flag,n=e.message;if(null===n)return null;return t?Object(i.jsx)("div",{style:{color:"green",borderColor:"green",background:"aliceBlue",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,margin:"auto",textAlign:"center",width:150},children:n}):Object(i.jsx)("div",{style:{color:"red",borderColor:"red",background:"aliceBlue",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,margin:"auto",textAlign:"center",width:700},children:n})},m=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),a=Object(s.a)(o,2),l=a[0],d=a[1],f=Object(r.useState)(""),m=Object(s.a)(f,2),p=m[0],x=m[1],g=Object(r.useState)(""),v=Object(s.a)(g,2),w=v[0],N=v[1],S=Object(r.useState)(null),k=Object(s.a)(S,2),y=k[0],C=k[1],A=Object(r.useState)(!1),P=Object(s.a)(A,2),F=P[0],B=P[1];return Object(r.useEffect)((function(){j.getAll().then((function(e){return c(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(O,{flag:F,message:y}),Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(u,{filter:w,setFilter:N}),Object(i.jsx)("h2",{children:"Add a new"}),Object(i.jsx)(b,{newName:l,newNum:p,persons:n,setName:d,setNum:x,setPersons:c,setNotification:C,setFlag:B}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(h,{persons:n,filter:w,setPersons:c})]})};o.a.render(Object(i.jsx)(m,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.6fc7fe40.chunk.js.map